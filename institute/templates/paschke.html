<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Artworks by Various Artists</title>
  <style>
    /* Your CSS styles here */
  </style>
</head>
<body>
  <h1>Artworks by Various Artists</h1>

  <div id="container">
    <div id="artistListContainer">
      <div id="artistList"></div>
    </div>
    <div id="artworkContainer">
      <div class="arrow left" id="leftArrow" onclick="navigateArtwork(-1)">&#10094;</div>
      <div id="artworkDisplay"></div>
      <div class="arrow right" id="rightArrow" onclick="navigateArtwork(1)">&#10095;</div>
    </div>
  </div>

  <script>
    let currentArtworkIndex = 0;
    let artworks = [];
    let currentArtist = '';

    // JavaScript code for retrieving artworks by various artists and storing them in an array
    fetch('https://api.artic.edu/api/v1/artworks/search?limit=100&fields=id,title,image_id,artist_title')
      .then(response => response.json())
      .then(artworksData => {
        artworks = artworksData.data;

        // Create a list of artist names
        const artistList = document.getElementById('artistList');
        const artists = {};
        artworks.forEach(artwork => {
          artists[artwork.artist_title] = true;
        });

        const sortedArtists = Object.keys(artists).sort();
        sortedArtists.forEach(artistName => {
          const artistNameElement = document.createElement('div');
          artistNameElement.textContent = artistName;
          artistNameElement.classList.add('artistName');
          artistNameElement.addEventListener('click', () => displayArtworkByArtist(artistName));
          artistList.appendChild(artistNameElement);
        });
      })
      .catch(error => console.error('Failed to retrieve artworks by various artists:', error));

    // Function to display the artwork by the selected artist
    function displayArtworkByArtist(artistName) {
        currentArtist = artistName;
        const artistArtworks = artworks.filter(artwork => artwork.artist_title === artistName);
        currentArtworkIndex = 0;
        displayArtwork(currentArtworkIndex, artistArtworks);
        updateArrowVisibility(artistArtworks.length > 1); // Update arrow visibility based on the number of artworks
        }

    // Function to display the artwork at the given index
    function displayArtwork(index, artistArtworks) {
      const baseIIIFUrl = "https://www.artic.edu/iiif/2";
      const imageId = artistArtworks[index].image_id;
      const iiifUrl = `${baseIIIFUrl}/${imageId}/full/843,/0/default.jpg`;

      const artworkContainer = document.getElementById('artworkDisplay');
      artworkContainer.innerHTML = ''; // Clear previous artwork
      const img = document.createElement('img');
      img.src = iiifUrl;
      img.alt = artistArtworks[index].title;
      img.classList.add('artworkImage');
      artworkContainer.appendChild(img);

      const title = document.createElement('div');
      title.textContent = artistArtworks[index].title;
      title.classList.add('artworkTitle');
      artworkContainer.appendChild(title);
    }

    // Function to update arrow visibility based on the number of artworks
    function updateArrowVisibility(showArrows) {
      const leftArrow = document.getElementById('leftArrow');
      const rightArrow = document.getElementById('rightArrow');
      if (showArrows) {
        leftArrow.style.display = 'block';
        rightArrow.style.display = 'block';
      } else {
        leftArrow.style.display = 'none';
        rightArrow.style.display = 'none';
      }
    }

    // Function to navigate to the previous or next artwork
    function navigateArtwork(direction) {
        const artistArtworks = artworks.filter(artwork => artwork.artist_title === currentArtist);
        currentArtworkIndex += direction;
        if (currentArtworkIndex < 0) {
            currentArtworkIndex = artistArtworks.length - 1;
        } else if (currentArtworkIndex >= artistArtworks.length) {
            currentArtworkIndex = 0;
        }
        displayArtwork(currentArtworkIndex, artistArtworks);
        }
  </script>
</body>
</html>